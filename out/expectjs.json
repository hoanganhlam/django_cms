{"head":{"title":"expect.js","category":"JavaScript libraries","layout":"2017/sheet","updated":"2017-09-02T00:00:00.000Z","weight":-1},"body":[{"title":"Using","elms":"\n```\nnpm install --save-dev expect\n```\n{: .-setup}\n\n```js\n// using ES6 modules\nimport expect, { createSpy, spyOn, isSpy } from 'expect'\n```\n\n```js\n// using CommonJS modules\nvar expect = require('expect')\nvar createSpy = expect.createSpy\nvar spyOn = expect.spyOn\nvar isSpy = expect.isSpy\n```\n\nExpect is a library for assertions in tests.\nSee: [mjackson/expect](https://github.com/mjackson/expect)\n","h2":null},{"title":"Assertions","elms":"\n```js\nexpect(x).toBe(y)\n  .toBe(val)\n  .toEqual(val)\n  .toThrow(err)\n  .toExist()          // aka: toBeTruthy()\n  .toNotExist()       // aka: toBeFalsy()\n  .toBeA(constructor)\n  .toBeA('string')\n  .toMatch(/expr/)\n  .toBeLessThan(n)\n  .toBeGreaterThan(n)\n  .toBeLessThanOrEqualTo(n)\n  .toBeGreaterThanOrEqualTo(n)\n  .toInclude(val)     // aka: toContain(val)\n  .toExclude(val)\n  .toIncludeKey(key)\n  .toExcludeKey(key)\n```\n\nAlso: `toNotBe`, `toNotEqual`, etc for negatives.\n","h2":null},{"title":"Chaining assertions","elms":"\n```js\nexpect(3.14)\n  .toExist()\n  .toBeLessThan(4)\n  .toBeGreaterThan(3)\n```\n\nAssertions can be chained.\n","h2":null},{"title":"Spies","elms":"\n```js\nconst video = {\n  play: function () { ··· }\n}\n```\n{: .-setup}\n\n```js\nspy = expect.spyOn(video, 'play')\n```\n\n```js\nspy = expect.spyOn(···)\n  .andCallThrough()      // pass through\n  .andCall(fn)\n  .andThrow(exception)\n  .andReturn(value)\n```\n","h2":null},{"title":"Assertions on spies","elms":"\n```js\nexpect(spy.calls.length).toEqual(1)\nexpect(spy.calls[0].context).toBe(video)\nexpect(spy.calls[0].arguments).toEqual([ 'some', 'args' ])\nexpect(spy.getLastCall().arguments).toEqual(...)\n```\n\n```js\nexpect(spy).toHaveBeenCalled()\nexpect(spy).toHaveBeenCalledWith('some', 'args')\n```\n","h2":null},{"title":"References","elms":"\n- <https://www.npmjs.com/package/expect>\n- <https://github.com/mjackson/expect>","h2":null}]}