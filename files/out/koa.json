{"head":{"title":"Koa","category":"JavaScript libraries"},"body":[{"title":"Reference","elms":"\n```js\napp.use(function * (next) {\n  var ctx = this\n\n  ctx.request\n  ctx.response\n\n  ctx.body = 'hello'\n\n  ctx.state.user = yield User.find(id).fetch()\n\n  ctx.cookies.set('foo', 'hello', { signed: true })\n  ctx.cookies.get('foo')\n\n  ctx.throw(403)\n```\n","h2":null},{"title":"Request","elms":"\n```js\n  ctx.header        // ctx.headers\n  ctx.method        // and =\n  ctx.url           // and =\n  ctx.originalUrl\n  ctx.origin        // => 'http://example.com'\n  ctx.href          // => 'http://example.com/foo?q=hello'\n  ctx.path          // and =\n  ctx.query         // { q: 'hello' }\n  ctx.query         // and =\n  ctx.querystring\n  ctx.querystring   // and =\n  ctx.host\n  ctx.hostname\n  ctx.fresh\n  ctx.stale\n  ctx.socket\n  ctx.protocol\n  ctx.secure\n  ctx.ip\n  ctx.ips\n  ctx.subdomains\n  ctx.is()                  // .is('html') .is('text/html')\n  ctx.accepts()             // .accepts('html') .accepts('html', 'json')\n  ctx.acceptsEncodings()    // .acceptsEncodings('gzip')\n  ctx.acceptsCharsets()\n  ctx.acceptsLanguages()\n  ctx.get()\n\n  ctx.request.type          // => 'image/jpg'\n  ctx.request.charset       // => 'utf-8'\n  ctx.request.protocol      // => 'https'\n  ctx.request.secure        // => true\n  ctx.request.ip            // (supports X-Forwarded-For if app.proxy)\n  ctx.request.ips\n  ctx.request.subdomains\n\n  ctx.request.fresh\n  ctx.request.stale\n```\n","h2":null},{"title":"Response","elms":"\n```js\n  ctx.body = 'hello'\n\n  ctx.throw(403)\n  ctx.throw('name required', 403)\n  ctx.throw(403, 'name required')\n  ctx.throw('oops')\n  ctx.assert(ctx.state.user, 401, 'You must log in')\n```\n","h2":null},{"title":"Middlewares","elms":"\n```js\nexports.conditionalGet = require('koa-conditional-get');\nexports.responseTime = require('koa-response-time');\nexports.ratelimit = require('koa-ratelimit');\nexports.compress = require('koa-compress');\nexports.rewrite = require('koa-rewrite');\nexports.favicon = require('koa-favicon');\nexports.session = require('koa-session');\nexports.static = require('koa-static');\nexports.logger = require('koa-logger');\nexports.mount = require('koa-mount');\nexports.etag = require('koa-etag');\n```","h2":null}]}