{"head":{"title":"Travis.yml","category":"Devops","layout":"2017/sheet","prism_languages":["yaml"],"intro":"Quick reference for [Travis CI](https://travis-ci.org) yaml configuration. See [official documentation](https://docs.travis-ci.com/user/customizing-the-build/).\n"},"body":[{"title":null,"elms":"{:.-three-column}\n","h2":"Reference"},{"title":"Node.js","elms":"\n```yaml\nlanguage: node_js\nnode_js:\n  - '4'\n```\n\nDefaults install to `npm install`, and defaults test to `npm test`.\n","h2":"Reference"},{"title":"Ruby","elms":"\n```yaml\nlanguage: ruby\nrvm:\n  - 2.0.0\n  - 1.9.3\n  - 1.8.7\n```\n\nDefaults install to `bundle install`, defaults test to `rake`.\n","h2":"Reference"},{"title":"Build lifecycle","elms":"\n| Lifecycle                          |\n| ---------------------------------- |\n| `before_install`                   |\n| `install`                          |\n| ---                                |\n| `before_script`                    |\n| `script`                           |\n| ---                                |\n| `after_success` or `after_failure` |\n| `after_script`                     |\n| ---                                |\n| `before_deploy` (optional)         |\n| `deploy` (optional)                |\n| `after_deploy` (optional)          |\n","h2":"Reference"},{"title":"Branches","elms":"\n```yaml\nbranches:\n  except: ['..']\n  only: ['master']\n```\n","h2":"Reference"},{"title":"Environment vars","elms":"\n```yaml\nenv:\n  - 'rack=master'\n  - 'rack=1.3.4'\n```\n","h2":"Reference"},{"title":"Custom test command","elms":"\n```yaml\nscript: make test\nbefore_script: make pretest\nafter_script:  make clean\n\nbefore_script:\n  - make pretest1\n  - make pretest2\n```\n","h2":"Reference"},{"title":"Branches","elms":"\n```yaml\nbranches:\n  except:\n    - legacy\n\n  only:\n    - gh-pages\n    - /^deploy/\n```\n","h2":"Reference"},{"title":"Apt packages","elms":"\n```yaml\nbefore_install:\n  - sudo apt-get update -q\n  - sudo apt-get install gcc-4.8 -y\n```\n\n<https://docs.travis-ci.com/user/installing-dependencies/>\n","h2":"Reference"},{"title":"Etc","elms":"\n```yaml\ngemfile:\n  - gemfiles/Gemfile.rails-2.3.x\n  - gemfiles/Gemfile.rails-3.0.x\n```\n","h2":"Reference"},{"title":"References","elms":"\n- http://about.travis-ci.org/docs/user/build-configuration/\n- http://about.travis-ci.org/docs/user/languages/javascript-with-nodejs/\n- http://about.travis-ci.org/docs/user/languages/ruby/","h2":"Reference"}]}