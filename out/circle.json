{"head":{"title":"CircleCI","category":"Devops"},"body":[{"title":null,"elms":"\n* __machine__: adjusting the VM to your preferences and requirements\n* __checkout__: checking out and cloning your git repo\n* __dependencies__: setting up your project's language-specific dependencies\n* __database__: preparing the databases for your tests\n* __test__: running your tests\n* __deployment__: deploying your code to your web servers\n\nSee: <https://circleci.com/docs/configuration>\n","h2":"circle.yml"},{"title":null,"elms":"\n```yml","h2":"Sample"},{"title":null,"elms":"machine:\n\n  timezone:\n    America/Los_Angeles # Set the timezone\n\n  # Version of ruby to use\n  ruby:\n    version:\n      1.8.7-p358-falcon-perf\n\n  # Override /etc/hosts\n  hosts:\n    circlehost: 127.0.0.1\n    dev.mycompany.com: 127.0.0.1\n\n  # Add some environment variables\n  environment:\n    CIRCLE_ENV: test\n    DATABASE_URL: postgres://ubuntu:@127.0.0.1:5432/circle_test\n","h2":"Customize the test machine"},{"title":null,"elms":"checkout:\n  post:\n    - git submodule sync\n    - git submodule update --init # use submodules\n","h2":"Customize checkout"},{"title":null,"elms":"dependencies:\n  pre:\n    - npm install coffeescript # install from a different package manager\n    - gem uninstall bundler # use a custom version of bundler\n    - gem install bundler --pre\n\n  override:\n    - bundle install: # note ':' here\n        timeout: 180 # fail if command has no output for 3 minutes\n\n  # we automatically cache and restore many dependencies between\n  # builds. If you need to, you can add custom paths to cache:\n  cache_directories:\n    - \"custom_1\"   # relative to the build directory\n    - \"~/custom_2\" # relative to the user's home directory\n","h2":"Customize dependencies"},{"title":null,"elms":"database:\n  override:\n    # replace CircleCI's generated database.yml\n    - cp config/database.yml.ci config/database.yml\n    - bundle exec rake db:create db:schema:load\n","h2":"Customize database setup"},{"title":null,"elms":"test:\n  override:\n    - phpunit test/unit-tests # use PHPunit for testing\n  post:\n    - bundle exec rake jasmine:ci: # add an extra test type\n        environment:\n          RAILS_ENV: test\n          RACK_ENV: test\n","h2":"Customize test commands"},{"title":null,"elms":"deployment:\n  staging:\n    branch: master\n    heroku:\n      appname: foo-bar-123\n","h2":"Customize deployment commands"},{"title":null,"elms":"notify:\n  webhooks:\n    # A list of hashes representing hooks. Only the url field is supported.\n    - url: https://someurl.com/hooks/circle\n```\n\nSee: <https://circleci.com/docs/config-sample>","h2":"Custom notifications"}]}