{"head":{"title":"Phoenix: Routing","category":"Elixir","layout":"2017/sheet","weight":-1},"body":[{"title":"Showing routes","elms":"\n```sh\nmix phx.routes        # 1.3+\nmix phoenix.routes    # 1.2 and below\n```\n\nSee: [Mix.Tasks.Phoenix.Routes](https://hexdocs.pm/phoenix/Mix.Tasks.Phoenix.Routes.html) _(hexdocs.pm)_\n","h2":null},{"title":"Single routes","elms":"\n```elixir\nget \"/\", PageController, :index\n```\n\nAlso: `put` `post` `patch` `options` `delete` `head`\n","h2":null},{"title":"Resources","elms":"\n```elixir\nresources \"/users\", UserController\nresources \"/users\", UserController, only: [:index, :show]\nresources \"/users\", UserController, except: [:delete]\n```\n\n```elixir\nresources \"/users\", UserController,\n  as: :person    # helper name (person_path)\n  name: :person  # ...?\n  param: :id     # name of parameter for this resource\n```\n\nGenerates these routes:\n\n| Method    | Path              | Helper                     |\n| ----      | ----              | ----                       |\n| GET       | `/users`          | `user_path(:index)`        |\n| GET       | `/users/new`      | `user_path(:new)`          |\n| GET       | `/users/:id`      | `user_path(:show, user)`   |\n| GET       | `/users/:id/edit` | `user_path(:edit, user)`   |\n| POST      | `/users`          | `user_path(:create, user)` |\n| PATCH/PUT | `/users/:id`      | `user_path(:update, user)` |\n| DELETE    | `/users/:id`      | `user_path(:delete, user)` |\n{: .-left-align}\n\nSee: [resources/4](https://hexdocs.pm/phoenix/Phoenix.Router.html#resources/4) _(hexdocs.pm)_\n","h2":null},{"title":"Path helpers","elms":"\n```elixir\nuser_path(conn, :index)                 # → /users\nuser_path(conn, :show, 17)              # → /users/17\nuser_path(conn, :show, %User{id: 17})   # → /users/17\nuser_path(conn, :show, 17, admin: true) # → /users/17?admin=true\n```\n\n```elixir\nuser_url(conn, :index) # → \"http://localhost:4000/users\"\n```\n\n```elixir\nMyApp.Router.Helpers.user_path(MyApp.Endpoint, :index)\n```\n\nSee: [Helpers](https://hexdocs.pm/phoenix/Phoenix.Router.html#module-helpers) _(hexdocs.pm)_\n","h2":null},{"title":"Nested resources","elms":"\n```elixir\nresources \"/users\", UserController do\n  resources \"/posts\", PostController\nend\n```\n\n```elixir\nuser_post_path(:index, 17)     # → /users/17/posts\nuser_post_path(:show, 17, 12)  # → /users/17/posts/12\n```\n\nSee: [Scopes and resources](https://hexdocs.pm/phoenix/Phoenix.Router.html#module-scopes-and-resources) _(hexdocs.pm)_\n","h2":null},{"title":"Scoped routes","elms":"\n```elixir\nscope \"/admin\" do\n  pipe_through :browser\n  resources \"/reviews\", MyApp.Admin.ReviewController\nend\n# reviews_path() -> /admin/reviews\n```\n\n```elixir\nscope \"/admin\", as: :admin do: ... end\n# admin_reviews_path() -> /admin/reviews\n```\n\nSee: [scope/2](https://hexdocs.pm/phoenix/Phoenix.Router.html#scope/2) _(hexdocs.pm)_","h2":null}]}