{"head":{"title":"Deku v1","category":"JavaScript libraries","layout":"2017/sheet","intro":"Quick reference for [Deku](https://www.npmjs.com/package/deku), a minimal virtual DOM library. **Deprecated:** This is for Deku v1. See [deku](./deku) for a more updated cheatsheet.\n"},"body":[{"title":"Example","elms":"\n```js\n/** @jsx element */\nimport element from 'virtual-element' // replacement for React.createElement\nimport { render, tree } from 'cs/deku'\n\nvar app = <div class='my-app'>Hello World!</div>\n\nrender(tree(app), document.body)\n```\n","h2":null},{"title":"Components","elms":"\n```js\nButton = {\n  render() {\n    return <button>Submit</button>\n  }\n}\n\nApp = {\n  render() {\n    return (\n      <div>\n        <Button />\n      </div>\n    )\n  }\n}\n\nrender(tree(<App />), document.body)\nrender(tree(element(App)), document.body)\n```\n","h2":null},{"title":"Component props/state","elms":"\n```js\nApp = {\n  render ({ props, state }) {\n    return <div>{ /*...use state.store here*/ }</div>\n  }\n\n  initialState (props) {\n    return { store: store.getState() }\n  },\n\n  afterMount (comp, el, setState) {\n    store.subscribe(() => setState({ store: store.getState() }))\n  }\n}\n\nrender(tree(<App />), document.body)\n```\n","h2":null},{"title":"Events","elms":"\n```js\n<a onClick={onClick}>{props.text}</a>\n```\n","h2":null},{"title":"Magic virtual element","elms":"\nUse [magic-virtual-element](https://github.com/dekujs/magic-virtual-element) to enable nice classnames.\n\n```\nimport element from 'magic-virtual-element'\n<div style={style} class={[ 'button', '-active' ]}>\n```\n","h2":null},{"title":"Reference","elms":"\n```\nname = 'MyComponent'\n\n// Defaults\ninitialState (props) {...} // return initial state\ndefaultProps = { hi: 'hello' }\n\n// Render\nrender ({props, state}, setState) {...}\n\n// Lifecycle\nbeforeUpdate  ({props, state, id}, nextProps, nextState) {}\nafterRender   ({props, state, id}, el) {}\nafterUpdate   ({props, state, id}, prevProps, prevState, setState) {}\nafterMount    ({props, state, id}, el, setState) {}\nbeforeUnmount ({props, state, id}, el) {}\n```\n\nSee: <https://www.npmjs.com/package/deku>","h2":null}]}