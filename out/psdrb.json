{"head":{"title":"PSD.rb","category":"Ruby libraries","layout":"2017/sheet","intro":"[PSD.rb](https://github.com/layervault/psd.rb) parses Photoshop documents in Ruby.\n"},"body":[{"title":"Opening","elms":"\n```ruby\npsd = PSD.new(file, parse_layer_images: true)\npsd.parse!\n```\n","h2":null},{"title":"Traversing","elms":"\n```ruby\n# Gets the root node.\n# A #<Node> can be a Group or a Layer.\nnode = psd.tree\n```\n\n```ruby\nnode.root\nnode.descendants\nnode.ancestors\nnode.siblings\nnode.subtree\n```\n\n```ruby\nnode.descendant_groups\nnode.descendant_layers\n```\n","h2":null},{"title":"Layer info","elms":"\n```ruby\nnode.name   #=> \"Layer 2\"\n```\n\n```ruby\nnode.top    #=> 3\nnode.left   #=> 3\nnode.bottom\nnode.right\n```\n\n```ruby\n# Note: these are interchanged (?)\nnode.width\nnode.height\n```\n\n```ruby\nnode.visible?\nnode.hidden?\n```\n\n```ruby\nnode.layer?\nnode.group?\n```\n\n```ruby\nnode.blending_mode  #=> \"normal\"\nnode.opacity        #=> 0..255\nnode.fill_opacity   #=> 0..255\n```\n","h2":null},{"title":"Layer text","elms":"\n```ruby\nnode.text                  #=> (Hash)\nnode.text[:value]          #=> \"Text here\"\nnode.text[:font][:name]    #=> \"Arial\"\nnode.text[:font][:sizes]   #=> [6.9]\nnode.text[:font][:colors]  #=> [[255,255,255,255]]\nnode.text[:font][:css]     #=> \"font-family: ...;\"\nnode.text[:left]           #=> 3\nnode.text[:top]\nnode.text[:right]\nnode.text[:bottom]\nnode.text[:transform]      #=> (Hash)\n```\n","h2":null},{"title":"Layer effects","elms":"\n```ruby\nfx = node.info[:object_effects]\n```\n\n```ruby\nfx.data['Scl ']   # ?\nfx.data['GrFl']   # Gradient fill\n```\n","h2":null},{"title":"Layer mask","elms":"\n```ruby\nnode.mask[\"mask_size\"] == 0    # No mask\nnode.mask[\"mask_size\"] == 20   # Has mask\nnode.mask[\"top\"]\nnode.mask[\"left\"]\nnode.mask[\"bottom\"]\nnode.mask[\"right\"]\n```\n","h2":null},{"title":"Reference","elms":"\n * [layervault/psd.rb](https://github.com/layervault/psd.rb) _(github.com)_","h2":null}]}