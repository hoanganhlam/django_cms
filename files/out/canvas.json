{"head":{"title":"Canvas","category":"JavaScript","layout":"2017/sheet"},"body":[{"title":"Getting the context","elms":"\n```js\nvar canvas = document.getElementById('c')\nvar c = canvas.getContext('2d')\n```\n","h2":null},{"title":"Basic drawing","elms":"\n```js\n// x = 10, y = 20, width = 200, height = 100\nc.fillStyle = '#ff0000'\nc.strokeStyle = '#ff00ff'\n```\n\n```js\nc.lineWidth = 5\nc.lineCap = 'round'\n```\n\n```js\nc.fillRect(10, 20, 200, 100)\n```\n\n```js\nc.stroke()\nc.fill()\n```\n","h2":null},{"title":"Saving and restoring","elms":"\n```js\nc.save()\n```\n\n```js\nc.restore()\n```\n\nSaves: `strokeStyle` `fillStyle` `globalAlpha` `lineWidth` `lineCap` `lineJoin` `miterLimit` `shadowOffsetX` `shadowOffsetY` `shadowBlur` `shadowColor`\n`globalCompositeOperation`, Transformations (`translate` `rotate` `scale` `transform` `setTransform`), Clipping path\n\n","h2":null},{"title":"Animation","elms":"\n```js\nonframe: function() {\n  c.clearRect(0, 0, w, h)\n}\n```\n","h2":null},{"title":"Transformations","elms":"\n```js\nc.translate(0, 0)\nc.rotate(Math.PI*2/5)\nc.scale(1.0, 1.0)\n```\n\nTo rotate along origin:\n\n```js\nc.translate(ox, oy)\nc.rotate(theta)\nc.translate(-ox, -oy)\n```\n\nTo scale along origin:\n\n```js\nc.translate(-ox*x, -oy*y)\nc.scale(x, y)\nc.translate(ox/x, oy/y)\n```\n\nSee [MDN: Transformations][xform].\n","h2":null},{"title":"Image drawing","elms":"\n```js\nc.drawImage(image, dx, dy, [dw, dh]);\n/* `image` can be HTML Image/Canvas/Video */\n```\n\nSee [MDN: Images][images].\n","h2":null},{"title":"Colors, styles shadows","elms":"\n```js\nc.strokeStyle = '#ff00ff';\nc.fillStyle = '#ff00ff';\n```\n\n```js\nc.shadowOffsetX = 0;\nc.shadowOffsetY = 0;\nc.shadowOffsetBlur = 3.0;\nc.shadowColor = 'rgba(0,0,0,0.2)';\n```\n\nSee [MDN: Styles][styles]\n","h2":null},{"title":"Gradients","elms":"\n```js\ngr = c.createLinearGradient(x0,y0,x1,y1)\ngr = c.createRadialGradient(x0,y0,r0,x1,y1,r1)\npat = c.createPattern(image, 'repeat-x')\n```\n\n```js\nc.fillStyle = gr\n```\n","h2":null},{"title":"Drawing","elms":"\n```js\nc.beginPath()\nc.moveTo(x,y)\nc.lineTo(x,y)\nc.quadraticCurveTo(cpx,cpy,x,y)\nc.bezierCurveTo(cp1x,cp1y,cp2x,cp2y)\nc.arcTo(...)\nc.arc(...)\nc.closePath()\n```\n","h2":null},{"title":"More resources","elms":"\n  * [Canvas Cheatsheet PDF][pdf]\n\n[pdf]: http://www.nihilogic.dk/labs/canvas_sheet/HTML5_Canvas_Cheat_Sheet.pdf\n[xform]: https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Transformations\n[styles]: https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Applying_styles_and_colors\n[images]: https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Using_images","h2":null}]}