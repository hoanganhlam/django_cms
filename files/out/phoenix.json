{"head":{"title":"Phoenix","category":"Elixir","layout":"2017/sheet","weight":-1,"updated":"2018-03-06T00:00:00.000Z"},"body":[{"title":"Quick start","elms":"\n```bash\n# Install Phoenix\nmix local.hex\nmix archive.install https://github.com/phoenixframework/archives/raw/master/phx_new.ez\n```\n\n```bash\n# Create a new project\nmix phx.new hello\n```\n\n```bash\n# Start the application\nmix phx.server\n```\n\nInstall Erlang, Elixir, Node.js, PostgreSQL first.\nSee: [Installation](https://hexdocs.pm/phoenix/installation.html) _(hexdocs.pm)_\n","h2":null},{"title":"Directory structure","elms":"\n```\n./\n├── _build\n├── assets/\n│   ├── css/\n│   ├── js/\n│   ├── static/\n│   └── node_modules/\n├── config/\n├── deps/\n├── lib/\n│   ├── hello/\n│   ├── hello.ex\n│   ├── hello_web/\n│   │   ├── channels/\n│   │   ├── controllers/\n│   │   ├── templates/\n│   │   ├── views/\n│   │   ├── router.ex\n│   │   └── gettext.ex\n│   └── hello_web.ex\n├── priv/\n└── test/\n```\n{: .-box-chars}\n\nSee: [Adding pages](https://hexdocs.pm/phoenix/adding_pages.html) _(hexdocs.pm)_\n","h2":null},{"title":"Migrations","elms":"\n```bash\n$ mix ecto.gen.migration update_posts_table\n  creating priv/repo/migrations/20160602085927_update_posts_table.exs\n  ···\n```\n\n```elixir\ncreate table(:documents) do\n  add :title, :string\n  add :title, :string, default: \"Hello\"\n  add :body, :text\n  add :age, :integer\n  add :price, :float, precision: 10, scale: 2\n  timestamps\nend\n```\n\n[Ecto migrations cheatsheet](./phoenix-migrations)\n{: .-crosslink}\n","h2":null},{"title":"Routing","elms":"\n```elixir\nget \"/\", PageController, :index\n\nresources \"/users\", UserController do\n  resources \"/posts\", PostController\nend\n```\n\n```elixir\nuser_post_path(conn, :index, 17)     # → /users/17/posts\nuser_post_path(conn, :show, 17, 12)  # → /users/17/posts/12\n```\n\n[Phoenix routing cheatsheet](./phoenix-routing)\n{: .-crosslink}\n","h2":null},{"title":"Conn","elms":"\n```elixir\nconn.host          # → \"example.com\"\nconn.method        # → \"GET\"\nconn.path_info     # → [\"posts\", \"1\"]\nconn.request_path  # → \"/posts/1\"\n```\n\n```elixir\nconn\n|> put_status(202)\n|> html(\"<html><head>···\")\n|> json(%{ message: \"Hello\" })\n|> text(\"Hello\")\n|> redirect(to: \"/foo\")\n|> render(\"index.html\")\n|> render(\"index.html\", hello: \"world\")\n|> render(MyApp.ErrorView, \"404.html\")\n```\n\n[Phoenix conn cheatsheet](./phoenix-conn)\n{: .-crosslink}\n","h2":null},{"title":"Ecto","elms":"\n```bash\n$ mix phx.gen.html \\\n    Accounts \\       # domain\n    Profile \\        # schema\n    profiles \\       # table name\n    email:string \\\n    age:integer\n```\n\n[Ecto cheatsheet](./phoenix-ecto)\n{: .-crosslink}\n","h2":null},{"title":"Also see","elms":"\n- [Phoenix framework site](http://phoenixframework.org/) _(phoenixframework.org)_\n- [Phoenix: getting started](https://hexdocs.pm/phoenix/overview.html) _(hexdocs.pm)_","h2":null}]}