{"head":{"title":"Ansible quickstart","category":"Ansible","layout":"2017/sheet","description":"A quick guide to getting started with your first Ansible playbook.\n"},"body":[{"title":"Install Ansible","elms":"\n```bash\n$ brew install ansible            # OSX\n$ [sudo] apt install ansible      # elsewhere\n```\n\nAnsible is available as a package in most OS's.\n\nSee: [Installation](http://docs.ansible.com/ansible/latest/intro_installation.html)\n","h2":null},{"title":"Start your project","elms":"\n```bash\n~$ mkdir setup\n~$ cd setup\n```\n\nMake a folder for your Ansible files.\n\nSee: [Getting started](http://docs.ansible.com/ansible/latest/intro_getting_started.html)\n","h2":null},{"title":"Inventory file","elms":"\n#### ~/setup/hosts\n\n```dosini\n[sites]\n127.0.0.1\n192.168.0.1\n192.168.0.2\n192.168.0.3\n```\n\nThis is a list of hosts you want to manage, grouped into groups. (Hint: try\nusing `localhost ansible_connection=local` to deploy to your local machine.)\n\nSee: [Intro to Inventory](http://docs.ansible.com/ansible/latest/intro_inventory.html)\n","h2":"Creating your files"},{"title":"Playbook","elms":"\n#### ~/setup/playbook.yml\n\n```yaml\n- hosts: 127.0.0.1\n  user: root\n  tasks:\n    - name: install nginx\n      apt: pkg=nginx state=present\n\n    - name: start nginx every bootup\n      service: name=nginx state=started enabled=yes\n\n    - name: do something in the shell\n      shell: echo hello > /tmp/abc.txt\n\n    - name: install bundler\n      gem: name=bundler state=latest\n```\n\nSee: [Intro to Playbooks](http://docs.ansible.com/ansible/latest/playbooks_intro.html)\n","h2":"Creating your files"},{"title":"Running ansible-playbook","elms":"\n```\n~/setup$ ls\nhosts\nplaybook.yml\n```\n\n#### Running the playbook\n\n```\n~/setup$ ansible-playbook -i hosts playbook.yml\nPLAY [all] ********************************************************************\n\nGATHERING FACTS ***************************************************************\nok: [127.0.0.1]\n\nTASK: [install nginx] *********************************************************\nok: [127.0.0.1]\n\nTASK: start nginx every bootup] ***********************************************\nok: [127.0.0.1]\n...\n```\n","h2":"Running"},{"title":null,"elms":"\n* [Getting started with Ansible](http://lowendbox.com/blog/getting-started-with-ansible/) _(lowendbox.com)_\n* [Getting started](http://docs.ansible.com/ansible/latest/intro_getting_started.html) _(docs.ansible.com)_\n* [Intro to Inventory](http://docs.ansible.com/ansible/latest/intro_inventory.html) _(docs.ansible.com)_\n* [Intro to Playbooks](http://docs.ansible.com/ansible/latest/playbooks_intro.html) _(docs.ansible.com)_","h2":"Read more"}]}