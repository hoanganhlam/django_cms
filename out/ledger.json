{"head":{"title":"Ledger CLI","category":"Ledger","layout":"2017/sheet","updated":"2020-05-23T00:00:00.000Z","weight":-5},"body":[{"title":"Basic usage","elms":"\n```bash\n$ ledger bal\n$ ledger reg\n```\n\n```bash\n$ ledger reg grocery  # show entries for 'grocery'\n$ ledger bal assets   # check if i'm broke\n```\n\n```bash\n  -b 01/01   # --begin\n  -e 01/31   # --end\n  -S date    # --sort\n  -S amount\n```\n","h2":null},{"title":"Examples","elms":"\n```bash\n# any/all matches\n  ledger bal Rent Transportation  # any\n  ledger bal Income and Job       # all\n  ledger bal Expenses and not (Drinks or Food)\n```\n\n```bash\n# what did I spend on most? (--sorted)\n  ledger reg Expenses -S amount\n```\n\n```bash\n# how much did I have at this date? (--end)\n  ledger bal -e 01/15 ^Assets ^Liabilities\n```\n\n```bash\n# how much did I spend and earn this month?\n  ledger bal ^Expenses ^Income --invert\n```\n\n```bash\n# how much was spent over the course of 3 days? (totalled)\n  ledger reg -b 01/25 -e 01/27 --subtotal\n  ledger reg -b 01/25 -e 01/27 --subtotal grocery\n```\n\nFormat\n------\n","h2":null},{"title":"Basic format","elms":"\n```\n2013/01/03 * Rent for January\n  Expenses:Rent   $600.00\n  Assets:Savings\n```\n\n`*` = cleared, `!` = pending\n","h2":null},{"title":"Secondary dates","elms":"\n```\n2008/01/01=2008/01/14 Client invoice\n```\n\nIt can mean anything you want, eg, for the estimated date you'll be paid.\n","h2":null},{"title":"Balance assertions","elms":"\n```\n2008/01/01 * KFC\n  Expenses:Food    $20\n  Assets:Cash     $-20  = $500\n```\n{: data-line=\"3\"}\n\n`Cash $X = $500` ensures Cash is at $500 after the transaction.\n","h2":null},{"title":"Balance assignment","elms":"\n```bash\n2008/01/01 * Cash balance\n  Assets:Cash              = $500\n  Equity:Adjustments\n\n2008/01/01 * KFC\n  Expenses:Food            $20\n  Assets:Cash              = $500\n```\n{: data-line=\"2,7\"}\n\n`ACCOUNT = $500` figures out what's needed to make it $500.\n","h2":null},{"title":"Payables","elms":"\n```bash\n2008/04/25 * Rent\n  (Assets:Checking)  -$200\n  Expenses:Rent\n```\n{: data-line=\"2\"}\n","h2":null},{"title":"Commodities","elms":"\n```bash\n; cost per item\n2010/05/31 * Market\n  Assets:Fridge                35 apples @ $0.42\n  Assets:Cash\n```\n{: data-line=\"3\"}\n\n```bash\n; total cost\n2010/05/31 * Market\n  Assets:Fridge                35 apples @@ $14.70\n  Assets:Cash\n```\n{: data-line=\"3\"}\n\n```bash\n; fixed lot prices\n2010/05/31 * Gas\n  Expenses:Gasoline             11 GAL {=$2.299}\n  Assets:Cash\n```\n{: data-line=\"3\"}\n","h2":null},{"title":"Commodity definitions","elms":"\n```\ncommodity $\n  note American Dollars\n  format $1,000.00\n  nomarket\n  default\n```\n","h2":null},{"title":"Budgeting","elms":"\n```\n~ Monthly\n  Expenses:Rent  $500\n  Expenses:Food  $100\n  Expenses        $40 ; everything else\n  Assets\n\n~ Yearly\n```\n\n```bash\nledger bal --budget Expenses\nledger bal --unbudgeted Expenses\n```\n{: .-setup}\n","h2":null},{"title":"Comments","elms":"\n    ; line comment\n    # also line comment\n    % also line comment\n    | also line comment\n    * also line comment\n\nQuerying\n--------\n","h2":null},{"title":"Periods","elms":"\n```\n[interval] [begin] [end]\n```\n\n```\ninterval:\n  every day|week|month|quarter|year\n  every N days|weeks|...\n  daily|weekly|...\n```\n\n```\nbegin:\n  from <spec>\nend:\n  to <spec>\n```\n\n```\nspec:\n  2004\n  2004/10/1\n```\n\n```bash\n$ ledger bal|reg --period \"until aug\"\n$ ledger bal|reg --period \"last oct\"\n$ ledger bal|reg --period \"every week\"\n```\n{: .-setup}\n","h2":null},{"title":"Register","elms":"\n```bash\n$ ledger reg\n```\n{: .-setup}\n\n```bash\n  -D, --daily\n  -W, --weekly\n  -M, --monthly\n      --quarterly\n  -Y, --yearly\n  -s, --subtotal\n  --start-of-week monday\n```\n\n```bash\n  -S, --sort date\n  -S, --sort amount\n```\n","h2":null},{"title":"Filters","elms":"\n```bash\n-b, --begin DATE\n-e, --end DATE\n\n-d payee =~ /pioneer/\n\n-C, --cleared    # (with *)\n-U, --uncleared  # (no *)\n    --pending    # (with !)\n\n-R, --real       # ignore virtual postings (eg: \"(Cash)  $-400\")\n-L, --actual     # no automated postings (eg: \"= /^Income/\")\n\n-r, --related   # show the other side\n                # \"reg -r savings\" shows where it comes from)\n```\n","h2":null},{"title":"Queries","elms":"\n    ^regex$\n    @payee\n    %tag\n    %tag=value\n    =note\n    #code\n    term and term\n    term or term\n    not term\n    \\( term \\)\n\nExample:\n\n    ledger r ^expenses and @Denny's\n    ledger r food and @Starbucks and not dining\n","h2":null},{"title":"Display","elms":"\n```bash\n-n, --collapse       # [register] collapse entries\n                     # [balance] no grand total\n-s, --subtotal       # [balance] show sub-accounts\n                     # [other] show subtotals\n--flat\n```\n","h2":null},{"title":"Effective dates","elms":"\n```bash\n2008/01/01=2008/01/14 Client invoice  ;  estimated date you'll be paid\n  Assets:Accounts Receivable            $100.00\n  Income: Client name\n```\n{: data-line=\"1\"}\n\nSay you're in business. If you bill a customer, you can enter something like above.\nThen, when you receive the payment, you change it to:\n\n```bash\n2008/01/01=2008/01/15 Client invoice ;  actual date money received\n  Assets:Accounts Receivable            $100.00\n  Income: Client name\n```\n{: data-line=\"1\"}\n","h2":null},{"title":null,"elms":"{: .-one-column}\n\n* <http://ledger-cli.org/3.0/doc/ledger3.html>\n* <https://gist.github.com/agaviria/3317397>\n{: .-also-see}","h2":"References"}]}