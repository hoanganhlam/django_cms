{"head":{"title":"Mocha blanket","category":"JavaScript libraries","layout":"2017/sheet","intro":"Use [blanket](https://npmjs.com/package/blanket) for easy coverage reporting for Mocha JavaScript tests.\n"},"body":[{"title":"Quickstart guide","elms":"\nInstall blanket:\n{: .-setup}\n\n```bash\nnpm i --save-dev blanket\n```\n\nIn your test helpers, use Blanket before `require`ing:\n\n```js\nif (process.env.COVERAGE) {\n  require('blanket')({\n    pattern: require('path').resolve('./index.js')\n  });\n}\nthing = require('../index');\n```\n\nAdd to `package.json`:\n\n```json\n\"scripts\": {\n  \"coverage\": \"env COVERAGE=1 mocha -R html-cov > coverage.html && open coverage.html\"\n}\n```\n\nBe sure to ignore it:\n\n```bash\necho \"coverage.html\" >> .gitignore\n```\n\nThen run:\n\n```bash\nnpm run coverage\n```\n","h2":null},{"title":"Travis + coveralls.io support","elms":"\nVisit [coveralls.io] then activate your repo. Then install the appropriate packages:\n{: .-setup}\n\n```bash\nnpm i --save-dev mocha-lcov-reporter coveralls\n```\n\nAdd this to `.travis.yml`:\n\n```yml\nafter_success:\n  - ./node_modules/.bin/mocha -R mocha-lcov-reporter | ./node_modules/coveralls/bin/coveralls.js\n```\n\nCommit, push, wait for Travis to finish.\n\n[blanket]: https://www.npmjs.org/package/blanket\n[coveralls.io]: http://coveralls.io","h2":null}]}